<div class="policy" ng-class="{'policy-review':model.policy.options.readonly}">
    <div class="policy-head form-horizontal">
        <div search-panel search-selector="model.policy.options.readonly ? '.section-text' :  '[ta-bind]'"></div>
        <div class="text-right subtext" ng-if="model.survey.surveyVersion !== undefined">
            <span translate="SURVEYS.VERSION"></span>:
            <span ng-hide="model.survey.surveyVersion < 0">{{model.survey.surveyVersion}}</span>
            <span ng-show="model.survey.surveyVersion < 0" translate="SURVEYS.VERSION_DRAFT"></span>
        </div>
        <div class="form-group">
            <label for="title" class="col-sm-4 control-label required" translate="POLICY.TITLE"></label>
            <div class="col-sm-8">
                <p class="form-control-static" ng-show="model.policy.options.readonly">{{model.policy.title}}</p>
                <input type="text" class="form-control" ng-required="true" name="title" id="title"
                       ng-model="model.policy.title"
                       ng-hide="model.policy.options.readonly"/>
            </div>
        </div>
        <div class="form-group">
            <label for="section" class="col-sm-4 control-label" translate="POLICY.SECTION"></label>

            <div class="col-sm-8">
                <p class="form-control-static" ng-show="model.policy.options.readonly">{{model.policy.section}}</p>
                <input type="text" class="form-control" name="section" id="section" ng-model="model.policy.section"
                       ng-hide="model.policy.options.readonly"/>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-4 control-label" translate="POLICY.SUBSECTION"></label>

            <div class="col-sm-8">
                <p class="form-control-static" ng-show="model.policy.options.readonly">{{model.policy.subsection}}</p>
                <input type="text" class="form-control" name="subsection" id="subsection"
                       ng-model="model.policy.subsection" ng-hide="model.policy.options.readonly"/>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-4 control-label" translate="POLICY.NUMBER"></label>

            <div class="col-sm-8">
                <p class="form-control-static" ng-show="model.policy.options.readonly">{{model.policy.number}}</p>
                <input type="text" class="form-control" name="number" id="number" ng-model="model.policy.number"
                       ng-hide="model.policy.options.readonly"/>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-4 control-label" translate="POLICY.AUTHOR"></label>

            <div class="col-sm-8">
                <p class="form-control-static">{{model.policy.authorName}}</p>
            </div>
        </div>
    </div>
    <div class="policy-sections">
        <div class="policy-upload row" ng-if="!model.policy.options.readonly && model.policy.options.canImport">
            <div class="col-sm-12">
                <label translate="POLICY.TEXT"></label>
                <p class="subtext" translate="POLICY.UPLOAD_TEXT"></p>
                <form ng-show="!policyUploader.progress" class="row" name="{{policyUploadForm}}">
                    <input type="file" class="form-control input-file" name="file" nv-file-select uploader="policyUploader"
                           ng-class="{error: model.policyImportError}">
                </form>
                <div class="progress" ng-if="policyUploader.progress">
                    <div class="progress-bar" role="progressbar" ng-style="{width: policyUploader.progress + '%'}"></div>
                </div>
                <div class="text-center subtext error" role="alert" ng-if="model.policyImportError">
                    <span translate="{{model.policyImportError.msg}}"></span>
                </div>
            </div>
        </div>
        <fb-policy ng-model="item" ng-repeat="item in model.policy.sections" options="model.policy.options"
                   associate="model.policy.associate"
                   author="model.policy.author"></fb-policy>
        <attachments field="model.policy" options="model.policy.options"></attachments>
    </div>
</div>
